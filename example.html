<!DOCTYPE html>
<html>
	<head>
		<script type="text/javascript">
			var SiUXNotifierParam = {
				'id'                    : '0221b86f3352e295ef756341b0137ead',
				'captureUncaught'       : true,					// logging errors, default false
				'debug'			: true,					// debug mode (console), default false
				'data'                  : {
					'environment'           : 'project_0.01',
					'revision'              : 'production',			// production | develop
					'personId'		: 111,				// info for track user
					'personUsername'	: 'James Bond',
					'personEmail'		: 'james@bond.name'
				}
			};
			var SiUXNotifier={};SiUXNotifier.urlNotify="https://logni-online.esiux.com/notifier";SiUXNotifier.urlJsLogni="https://cdn-logni-static.esiux.com/js/logni/logni.min.js";SiUXNotifier.urlJsNotifier="https://cdn-logni-static.esiux.com/js/logni/notifier_ext.min.js";SiUXNotifier.debug=false;SiUXNotifier.captureUncaught=false;SiUXNotifier.loadScriptAsync=false;SiUXNotifier.logMask="I3E1F1W2";SiUXNotifier.clientData={environment:null,revision:null,personId:null,personUsername:null,personEmail:null};SiUXNotifier.versionInline="0.0.1";SiUXNotifier.init=function(){if(typeof SiUXNotifierParam==="undefined"||typeof SiUXNotifierParam.id==="undefined"){return}SiUXNotifier.id=SiUXNotifierParam.id;SiUXNotifier.wrappedFuncError=null;SiUXNotifier.logList=[];SiUXNotifier.errList=[];if(typeof SiUXNotifierParam.urlNotify!=="undefined"){SiUXNotifier.urlNotify=SiUXNotifierParam.urlNotify}if(typeof SiUXNotifierParam.urlJsLogni!=="undefined"){SiUXNotifier.urlJsLogni=SiUXNotifierParam.urlJsLogni}if(typeof SiUXNotifierParam.urlJsNotifier!=="undefined"){SiUXNotifier.urlJsNotifier=SiUXNotifierParam.urlJsNotifier}if(typeof SiUXNotifierParam.debug!=="undefined"){SiUXNotifier.debug=SiUXNotifierParam.debug}if(typeof SiUXNotifierParam.captureUncaught!=="undefined"){SiUXNotifier.captureUncaught=SiUXNotifierParam.captureUncaught}if(typeof SiUXNotifierParam.loadScriptAsync!=="undefined"){SiUXNotifier.loadScriptAsync=SiUXNotifierParam.loadScriptAsync}if(typeof SiUXNotifierParam.logMask!=="undefined"){SiUXNotifier.logMask=SiUXNotifierParam.logMask}if(typeof SiUXNotifierParam.data!=="undefined"){for(var c in SiUXNotifierParam.data){try{if(c=="environment"||c=="revision"||c=="personUsername"||c=="personEmail"){SiUXNotifier.clientData[c]=SiUXNotifierParam.data[c].toString()}else{if(c=="personId"){SiUXNotifier.clientData[c]=parseInt(SiUXNotifierParam.data[c])}}}catch(b){SiUXNotifier.console("error","SiUX Notifier: Type of client data, ",b)}}}setTimeout(function(){SiUXNotifier.addScript(SiUXNotifier.urlJsNotifier,SiUXNotifier.notifierInit)},0);setTimeout(function(){SiUXNotifier.addScript(SiUXNotifier.urlJsLogni,SiUXNotifier.logInit)},0);SiUXNotifier.addEventListener(window,"load",SiUXNotifier.windowOnLoad);if(SiUXNotifier.captureUncaught){window.onerror=SiUXNotifier.wrapInternalFuncError(SiUXNotifier.windowOnError());var d="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(var a=0;a<d.length;a++){SiUXNotifier.wrapEventListener(d[a])}}};SiUXNotifier.console=function(a,b){if(typeof console!=="undefined"&&console!==null&SiUXNotifierParam.debug){if(arguments.length>2){console[a](b,arguments[2])}else{console[a](b)}}};SiUXNotifier.wrapInternalFuncError=function(a){return function(){try{return a.apply(this,arguments)}catch(b){SiUXNotifier.console("error","SiUX Notifier: Internal error, ",b)}}};SiUXNotifier.wrapFuncError=function(a,b){try{if(typeof a!=="function"){return a}if(!a._wrap){a._wrap=function(){try{a.apply(this,arguments)}catch(f){SiUXNotifier.wrappedFuncError=f;SiUXNotifier.console("log","SiUX Notifier: event error, ",f);throw f}}}for(var d in a){a._wrap[d]=a[d]}return a._wrap}catch(c){return a}};SiUXNotifier.wrapEventListener=function(c){if(typeof window[c]==="undefined"||typeof window[c].prototype==="undefined"){return}var b=window[c].prototype.addEventListener;window[c].prototype.addEventListener=function(e,f,d){b.call(this,e,SiUXNotifier.wrapFuncError(f,c),d)};var a=window[c].prototype.removeEventListener;window[c].prototype.removeEventListener=function(e,f,d){a.call(this,e,f._wrap||f,d)}};SiUXNotifier.windowOnError=function(){return function(){var a=Array.prototype.slice.call(arguments,0);if(SiUXNotifier.wrappedFuncError&&!a[4]){a[4]=SiUXNotifier.wrappedFuncError}SiUXNotifier.wrappedFuncError=null;SiUXNotifier.console("log","SiUX Notifier: window onerror, ",a[0]);var b={message:a[0],source:a[1],lineno:a[2],colno:a[3]||0,stack:""};if(a[4]&&typeof a[4].stack!=="undefined"){b.stack=a[4].stack}SiUXNotifier.log("SiUX Notifier: %s",[a[0]],"ERR",4,b)}};SiUXNotifier.isJsCompletelyLoaded=function(){if(typeof log==="undefined"||typeof log.ni==="undefined"||typeof SiUXNotifier.userIdent==="undefined"){return false}return true};SiUXNotifier.windowOnLoad=function(){if(SiUXNotifier.isJsCompletelyLoaded()){SiUXNotifier.sendLog(SiUXNotifier.logList);SiUXNotifier.logList=[]}};SiUXNotifier.addEventListener=function(c,d,b,a){a=(a)?true:false;if(c.addEventListener){c.addEventListener(d,b,a)}else{if(c.attachEvent){c.attachEvent("on"+d,b)}else{if(c["on"+d]){}else{c["on"+d]=b}}}};SiUXNotifier.addScript=function(c,d){var b=document.getElementsByTagName("head")[0];var a=document.createElement("script");a.type="text/javascript";a.src=c;a.async=SiUXNotifier.loadScriptAsync;a.onreadystatechange=a.onload=SiUXNotifier.wrapInternalFuncError(function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){d()}});b.appendChild(a)};SiUXNotifier.logInit=function(){log.mask(SiUXNotifier.logMask);log.file(SiUXNotifier.urlNotify);log.method("POST");if(typeof console!=="undefined"&&console!==null&SiUXNotifierParam.debug){log.stderr(1)}if(SiUXNotifierParam.debug){SiUXNotifier.console("log","SiUX Notifier: logni init")}if(SiUXNotifier.isJsCompletelyLoaded()){SiUXNotifier.jsCompletelyLoaded()}};SiUXNotifier.notifierInit=function(){SiUXNotifier.notifierInitExt()};SiUXNotifier.log=function(f,b,a,e){var d={};if(arguments.length>4){d=arguments[4]}if(!SiUXNotifier.isJsCompletelyLoaded()){var c={msg:f,paramList:b,mask:a,depth:e,data:d};if(arguments.length>4){SiUXNotifier.errList.push(c)}else{SiUXNotifier.logList.push(c)}return}SiUXNotifier.logni(f,b,a,e,d,false)};SiUXNotifier.init();
		</script>
	</head>

	<body>
		<script type="text/javascript">
			/* Example log with mask info and depth 3 */
			var hello = 'hello world';
        	        SiUXNotifier.log('Example info log - %s', [hello], 'INFO', 3);
 
			/* Example log with mask warning and depth 2 */
        	        SiUXNotifier.log('Example warning log', [], 'WARN', 2);
 
			/* Example log with mask fatal and depth 4 */
        	        SiUXNotifier.log('Example fatal log', [], 'FATAL', 4);
      	        
			/* Example error log */
			var err 	= ['errItem1', 'errItem2'];
			var errDesc	= 'Error description';
			SiUXNotifier.log('Example error log - %s, %s', [err, errDesc], 'ERR', 4);

			/* Example error in javascript, call undefined function */
			notExistFunc();
		</script>

		<!-- Example error triggered by onclick event, call undefined function-->
		<a href="#" onclick="javascript:notExistFuncLink(); return false;">Error on click event</a>
	</body>
</html>
